<h2 class="mat-title">Stato vaccinazioni</h2>
<mat-card>
    <mat-card-content fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="1em">
        <div class="item" fxLayout="row" fxLayoutAlign="center center" fxFlex="100" fxLayoutGap=".5em">
            <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em" class="numbers">
                <span *ngIf="todayVaccination; else loading">Vaccinazioni al {{todayVaccination.day | date: 'dd/MM/yyyy'}}</span>
                <ng-template #loading>
                    <mat-spinner [diameter]="24"></mat-spinner>
                </ng-template>
            </div>
        </div>
        
        <div fxFlex="100" fxLayout="column" fxLayout.sm="row" fxLayout.md="row" fxLayoutAlign="center space-around" fxLayoutGap="1em" fxLayoutGap.sm="4em" fxLayoutGap.md="4em" class="box-container">
            <div fxFlex="100" fxLayout="column" class="box-container">
                <h2 class="mat-h2 box-title">In un giorno</h2>
                <div class="item" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100" fxLayoutGap=".5em">
                    <strong>Prime dosi</strong> 
                    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em">
                        <div class="numbers" *ngIf="todayVaccination; else loading">{{todayVaccination.doses.first.toLocaleString()}}</div>
                        <ng-template #loading>
                            <mat-spinner [diameter]="24"></mat-spinner>
                        </ng-template>
                        <mat-icon>local_pharmacy</mat-icon>
                    </div>
                </div>
                <div class="item" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100" fxLayoutGap=".5em">
                    <strong>Seconde dosi</strong> 
                    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em">
                        <div class="numbers" *ngIf="todayVaccination; else loading">{{todayVaccination.doses.second.toLocaleString()}}</div>
                        <ng-template #loading>
                            <mat-spinner [diameter]="24"></mat-spinner>
                        </ng-template>
                        <mat-icon>security</mat-icon>
                    </div>
                </div>
                <div class="item" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100" fxLayoutGap=".5em">
                    <strong>Dosi totali</strong> 
                    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em">
                        <div class="numbers total" *ngIf="todayVaccination; else loading">{{todayVaccination.doses.total.toLocaleString()}}</div>
                        <ng-template #loading>
                            <mat-spinner [diameter]="24"></mat-spinner>
                        </ng-template>
                        <mat-icon>emoji_events</mat-icon>
                    </div>
                </div>
            </div>

            <div fxFlex="100" fxLayout="column" class="box-container">
                <h2 class="mat-h2 box-title">Totali</h2>
                <div class="item" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100" fxLayoutGap=".5em">
                    <strong>Prime dosi</strong> 
                    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em">
                        <div class="numbers" *ngIf="firstDoseTotal; else loading">{{firstDoseTotal.toLocaleString()}}</div>
                        <ng-template #loading>
                            <mat-spinner [diameter]="24"></mat-spinner>
                        </ng-template>
                        <mat-icon>local_pharmacy</mat-icon>
                    </div>
                </div>
                <div class="item" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100" fxLayoutGap=".5em">
                    <strong>Seconde dosi</strong> 
                    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em">
                        <div class="numbers" *ngIf="secondDoseTotal; else loading">{{secondDoseTotal.toLocaleString()}}</div>
                        <ng-template #loading>
                            <mat-spinner [diameter]="24"></mat-spinner>
                        </ng-template>
                        <mat-icon>security</mat-icon>
                    </div>
                </div>
                <div class="item" fxLayout="row" fxLayoutAlign="space-between center" fxFlex="100" fxLayoutGap=".5em">
                    <strong>Dosi totali</strong> 
                    <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap=".5em">
                        <div class="numbers total" *ngIf="total; else loading">{{total.toLocaleString()}}</div>
                        <ng-template #loading>
                            <mat-spinner [diameter]="24"></mat-spinner>
                        </ng-template>
                        <mat-icon>emoji_events</mat-icon>
                    </div>
                </div>
            </div>
        </div>
        <button mat-raised-button color="primary" class="details" [routerLink]="['/vaccination']">Dettagli</button>
    </mat-card-content>
</mat-card>
